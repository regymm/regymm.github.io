// FUNMESSAGEARRAY START
const funnymessagearray = [
  "SGF2ZSBhIG5pY2UgZGF5Lgo=",
  "WW91IGFyZSB0aGUgKG5vIGhpdCBjb3VudGVyKSBvbmUgdG8gY29tZS48L2JyPiBBbnl3YXksIGhhdmUgYSBuaWNlIGRheS4K",
  "RG9uJ3QgZm9yZ2V0IHRvIGNvbWUgYmFjayBsYXRlciEK",
  "QmxvZyB1cGRhdGUhCg==",
  "U3RheSBkZXRlcm1pbmVkIQo=",
  "Li4uQnV0IG5vYm9keSBjYW1lLgo=",
  "TGlmZSBpcyBjb21wbGV4LDwvYnI+IGl0IGhhcyBib3RoIHJlYWwgYW5kIGltYWdpbmFyeSBwYXJ0cy4K",
  "TGlmZSBpcyBsaWtlIGEgTWFya292IGNoYWluLgo=",
  "UXVhbnR1bSBpbmZvcm1hdGlvbiBpcyBzbyBoYXJkLgo=",
  "U3VucmlzZSwgc3Vuc2V0LCBRRlQgSSBqdXN0IGNhbid0IHVuZGVyc3RhbmQuLi4K",
  "VHJpdmlhbCEK",
  "RG8geW91IHdhbnQgeW91ciBwb3NzZXNzaW9ucyBpZGVudGlmaWVkPwo=",
  "RGVsaWdodGZ1bCBpbiBkYXJrbmVzcy4K",
  "RGVsaWNpb3VzIGluIGR1bmdlb24uCg==",
  "WW91IGhlYXIgYSBqYWNrYWwgaG93bGluZyBhdCB0aGUgbW9vbi4K",
  "WW91ciBibG9vZCBpcyBoYXZpbmcgdHJvdWJsZTwvYnI+IHJlYWNoaW5nIHlvdXIgYnJhaW4uCg==",
  "WW91ciBjb25zY2lvdXNuZXNzIGlzIGZhZGluZy4K",
  "WW91IGZlZWwgdHJ1ZWx5IGV4Y2l0ZWQuCg==",
  "WW91IHNlZSBoZXJlIGEgY3Vyc2VkIHNwZWxsYm9vayBsYWJlbGVkIDwvYnI+ICJBZHZhbmNlZCBRdWFudHVtIE1lY2hhbmljcyIuCg==",
  "SHVuZ3J5IQo=",
  "TWFrZSBhIHdpc2guCg==",
  "WW91IHNlZSBoZXJlIGEgcGh5c2ljcyBzdHVkZW50IGdvb2ZpbmcgYXJvdW5kLgo=",
  "VGhlIHRpZGUgcmlzZXMuIEFuZCB0aGUgdGlkZSBmYWxscy4K",
  "Tm90IG1lISBJIGFtIGEgbGVhcm5lZCBzY2hvbGFyIQo=",
  "QSBjb25zdGFudCByZW1pbmRlciBvZjwvYnI+IGhvdyB3ZWFrIG91ciBib2R5IGFuZCBicmFpbi4K",
  "VGhlIHRhc2sgYWhlYWQgaXMgdGVycmlibGUuCg==",
  "TGlnaHQsIHRoZSBwcm9taXNlIG9mIHNhZmV0eS4K",
  "U3Bpcml0IGlzIGxpZnRlZC4K",
  "RGVhdGggY2FuIHdhaXQhCg==",
  "V2UgYXJlIHRoZSBmbGFtZS4K",
  "TWFueSBmYWxsIGluIHRoZSBmYWNlIG9mIGNoYW9zLDwvYnI+IGJ1dCBub3QgdGhpcyBvbmUsIG5vdCB0b2RheS4K",
  "U3RheSBoeWRyYXRlZC4K",
  "Q3Vyc2UgbGlmdGVkIQo=",
  "Tm8gbWluZCB0byB0aGluay4K",
  "Li4uTm8gY29zdCB0b28gZ3JlYXQuLi4K",
  "RWl0aGVyIGEgbGl0dGxlIHRvbyBoaWdoIG9yIGEgbGl0dGxlIHRvbyBsb3cuCg==",
  "TGV0IHVzIG1vdmUgZm9yd2FyZCwgZG9uJ3QgbG9vayBiZWhpbmQuCg==",
  "RG9uJ3Qgc2hpbmUgdGhhdCBpbiB5b3VyIGV5ZSEK",
  "R28gd2FzaCB5b3VyIGhhbmRzLgo=",
  "Q2FyZWZ1bCwgdGhhdCBlcXVpcG1lbnQgaXMgZXhwZW5zaXZlLgo=",
  "IkhldGVyb2dlbmVvdXMiIGlzIGEgcHJldHR5IHdvcmQ8L2JyPiBmb3IgIkZyYW5rZW5zdGVpbiIuCg==",
  "VE9ETzogbWFrZSB0aGlzIHRydWUK",
  "UmFpbmJvdyBsaWtlIG1pc21hdGNoZWQgaW1wZWRhbmNlLgo=",
  "UG93ZXIgdXAgdGhlIGRldmljZSB3aXRoaW4gcmVjb21tZW5kZWQ8L2JyPiBvcGVyYXRpbmcgdm9sdGFnZSByYW5nZS4K",
  "aUNFNDAgRlBHQXMgZG8gbm90IGhhdmUgYSBKVEFHIGludGVyZmFjZS4K",
  "VGhlcmUgaXMgb25lIGNvbWJpbmF0b3JpYWwgbG9vcCBhbW9uZyB1cy4K",
  "TG9vayBob3cgdGVycmlibGUgdGhlIHBoYXNlIG5vaXNlIGlzIQo=",
  "RG8gdGhlIHRlc3Rpbmc8L2JyPiBvciBoYXZlIHNvbWUgdGVycmlibGUgdGhpbmcgbGF0ZXIuLi4K",
  "U2VjdGlvbnMgbWFya2VkIGJ5IHRoaXMgc3ltYm9sIGV4cGxhaW48L2JyPiBkYW5nZXJzIHRoYXQgbWlnaHQgcmVzdWx0IGluPC9icj4gcGVyc29uYWwgaW5qdXJ5IG9yIGRlYXRoLgo=",
  "SW4gc29tZSBjYXNlcywgb25lIG9yIG1vcmUgSS9PIGJhbmtzPC9icj4gaW4gYW4gU29DIGFyZSBub3QgdXNlZC4K",
  "U3RyZXNzZXMgZ3JlYXRlciB0aGFuIHRob3NlIGxpc3RlZCBtYXk8L2JyPiBjYXVzZSBwZXJtYW5lbnQgZGFtYWdlIHRvIHRoZSBkZXZpY2UuCg==",
  "RmFyIG92ZXIgdGhlIG1pc3R5IG1vdW50YWlucyBjb2xkLgo=",
  "VG8gZHVuZ2VvbnMgZGVlcCBhbmQgY2F2ZXJucyBvbGQuCg==",
  "VGhlIGVuZC4=",
];
// FUNMESSAGEARRAY END
const d = new Date();
const seed = d.getFullYear() * 1000 + d.getMonth() * 100 + d.getDay();
// function randomm() {
//   var x = Math.sin(seed++) * 10000;
//   return x - Math.floor(x);
// }

const welcome_ele = document.querySelector(".welcome span:first-child");
const title_ele = document.querySelector(".title span:first-child");
const cur_ele = document.querySelector(".title span:last-child");
const welcome = "Welcome to ... ";
const title = "regymm's homepage ";
let state = 0;
let displayed_length = 0;

function append_char() {
  if (state == 0) {
    title_ele.innerHTML = welcome.substring(0, displayed_length);
    if (displayed_length < welcome.length) {
      displayed_length++;
      setTimeout(append_char, 50);
    } else {
      displayed_length--;
      state = 1;
      setTimeout(append_char, 400);
    }
  } else if (state == 1) {
    cur_ele.style.visibility = "hidden";
    state = 2;
    setTimeout(append_char, 400);
  } else if (state == 2) {
    cur_ele.style.visibility = "visible";
    state = 3;
    setTimeout(append_char, 400);
  } else if (state == 3) {
    title_ele.innerHTML = welcome.substring(0, displayed_length);
    if (displayed_length > 0) {
      displayed_length--;
      setTimeout(append_char, 50);
    } else {
      state = 4;
      document.querySelector(".title").style.color = window
        .getComputedStyle(document.documentElement)
        .getPropertyValue("--yellow");
      setTimeout(append_char, 50);
    }
  } else if (state == 4) {
    title_ele.innerHTML = title.substring(0, displayed_length);
    if (displayed_length < title.length) {
      displayed_length++;
      setTimeout(append_char, 50);
    } else {
      displayed_length--;
      state = 5;
      setTimeout(append_char, 500);
    }
  } else {
    cur_ele.style.visibility =
      cur_ele.style.visibility == "hidden" ? "visible" : "hidden";
    setTimeout(append_char, 500);
  }
}

const funny_ele = document.getElementById("funny");
function funny() {
  funny_ele.innerHTML = atob(
    funnymessagearray[Math.floor(Math.random() * funnymessagearray.length)]
  );
}

addEventListener("DOMContentLoaded", function () {
  append_char();
  funny();
});

// funny_ele.addEventListener("click", funny);
